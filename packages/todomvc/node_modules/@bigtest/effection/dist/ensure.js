"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// an operation which attaches a handler which runs when the current context
// finishes.
function ensure(fn) {
    return ({ resume, context }) => {
        let targetContext = context.parent;
        targetContext.ensure(fn);
        resume(null);
    };
}
exports.ensure = ensure;
//# sourceMappingURL=ensure.js.map