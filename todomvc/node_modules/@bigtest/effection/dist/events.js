"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Takes an event emitter and event name and returns a yieldable
 * operation which resumes when the event occurs.
 */
function once(emitter, eventName) {
    return ({ resume, ensure }) => {
        let listener = (...args) => resume(args);
        ensure(() => emitter.off(eventName, listener));
        emitter.on(eventName, listener);
    };
}
exports.once = once;
//# sourceMappingURL=events.js.map